(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"7tAx":function(e,t,n){"use strict";n.r(t),n.d(t,"ZoneModule",(function(){return T}));var c=n("ofXK"),o=n("tyNb"),i=n("wHSu"),s=n("2Vo4"),a=n("itXk"),b=n("lJxs"),r=n("pLZG"),l=n("vkgz"),u=n("eIep"),d=n("SxV6"),f=n("fXoL"),g=n("bipQ"),p=n("/UgP"),h=n("suKW"),m=n("1/cB"),O=n("6NWb"),N=n("Ny7u");function x(e,t){if(1&e){const e=f.Pb();f.Ob(0,"span",17),f.Vb("click",(function(){f.mc(e);const n=t.$implicit;return f.Xb(4).sourceChosen(n)})),f.Ob(1,"a"),f.tc(2),f.Nb(),f.Nb()}if(2&e){const e=t.$implicit,n=f.Xb().ngIf;f.Ab("is-primary",n.name===e.name),f.xb(2),f.uc(e.name||e.category)}}function v(e,t){if(1&e&&(f.Ob(0,"div",15),f.rc(1,x,3,3,"span",16),f.Yb(2,"async"),f.Nb()),2&e){const e=f.Xb(3);f.xb(1),f.dc("ngForOf",f.Zb(2,1,e.zoneItemSources$))}}function I(e,t){if(1&e&&(f.Ob(0,"div",12),f.rc(1,v,3,3,"div",14),f.Yb(2,"async"),f.Nb()),2&e){const e=f.Xb(2);f.xb(1),f.dc("ngIf",f.Zb(2,1,e.chosenSource$))}}function y(e,t){if(1&e&&(f.Ob(0,"small",27),f.Ob(1,"abbr",28),f.Jb(2,"fa-icon",7),f.tc(3," Unlisted "),f.Nb(),f.Nb()),2&e){const e=f.Xb(5);f.xb(2),f.dc("icon",e.faExclamationTriangle)}}const S=function(e){return["/raider",e]};function k(e,t){if(1&e&&(f.Ob(0,"span",29),f.Ob(1,"a",30),f.tc(2),f.Nb(),f.tc(3," \xa0 "),f.Nb()),2&e){const e=t.$implicit;f.xb(1),f.dc("routerLink",f.gc(2,S,e.raiderName)),f.xb(1),f.vc(" ",e.raiderName," ")}}function w(e,t){if(1&e&&(f.Mb(0),f.tc(1," \xa0 "),f.rc(2,y,4,1,"small",24),f.tc(3," \xa0 "),f.Ob(4,"div",25),f.rc(5,k,4,4,"span",26),f.Nb(),f.Lb()),2&e){const e=t.ngIf,n=f.Xb(4);f.xb(2),f.dc("ngIf",n.noneListed(e)),f.xb(3),f.dc("ngForOf",e)}}function $(e,t){1&e&&(f.Ob(0,"small"),f.tc(1,"No Rankings."),f.Nb())}const z=function(e){return["/item",e]};function L(e,t){if(1&e&&(f.Ob(0,"article",19),f.Ob(1,"div",20),f.Ob(2,"div",21),f.Ob(3,"a",22),f.tc(4),f.Nb(),f.tc(5,"\xa0\xa0 "),f.rc(6,w,6,2,"ng-container",0),f.Yb(7,"async"),f.rc(8,$,2,0,"ng-template",null,23,f.sc),f.Nb(),f.Nb(),f.Nb()),2&e){const e=t.$implicit,n=f.lc(9),c=f.Xb(3);f.xb(3),f.dc("appWowheadTooltip",e)("routerLink",f.gc(7,z,e.itemId)),f.xb(1),f.uc(e.name),f.xb(2),f.dc("ngIf",f.Zb(7,5,c.getNextRecipient(e)))("ngIfElse",n)}}function F(e,t){if(1&e&&(f.Ob(0,"div",12),f.Ob(1,"p",5),f.Ob(2,"strong"),f.tc(3),f.Nb(),f.tc(4," Loot "),f.Nb(),f.rc(5,L,10,9,"article",18),f.Yb(6,"async"),f.Nb()),2&e){const e=t.ngIf,n=f.Xb(2);f.xb(3),f.uc(e.name),f.xb(2),f.dc("ngForOf",f.Zb(6,2,n.getSourceLoot(e)))}}function Z(e,t){if(1&e&&(f.Ob(0,"div"),f.Ob(1,"section",2),f.Ob(2,"div",3),f.Ob(3,"div",4),f.Ob(4,"h1",5),f.Ob(5,"a",6),f.tc(6),f.Jb(7,"fa-icon",7),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Ob(8,"section",8),f.rc(9,I,3,3,"div",9),f.Yb(10,"async"),f.Ob(11,"div",10),f.Ob(12,"div",11),f.rc(13,F,7,4,"div",9),f.Yb(14,"async"),f.Nb(),f.Ob(15,"div",11),f.Ob(16,"div",12),f.Jb(17,"app-loot-feed",13),f.Yb(18,"async"),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Nb()),2&e){const e=t.ngIf,n=f.Xb();f.xb(5),f.dc("href","https://tbc.wowhead.com/zone="+e.zoneId,f.oc)("appWowheadTooltip",e),f.xb(1),f.vc("",e.name," "),f.xb(1),f.dc("icon",n.faExternalLinkAlt),f.xb(2),f.dc("ngIf",f.Zb(10,8,n.zoneItemSources$).length>1),f.xb(4),f.dc("ngIf",f.Zb(14,10,n.chosenSource$)),f.xb(4),f.dc("zone",e.zoneId)("source",f.Zb(18,12,n.chosenSource$))}}function j(e,t){1&e&&(f.Ob(0,"h1",5),f.tc(1,"Zone not found"),f.Nb())}const X=[{path:":slug",component:(()=>{class e{constructor(e,t,n,c,o){this.router=e,this.route=t,this.itemService=n,this.zoneService=c,this.lootListFacade=o,this.faExternalLinkAlt=i.i,this.faExclamationTriangle=i.h,this.zone$=this.route.params.pipe(Object(b.a)(e=>e.slug),Object(b.a)(e=>this.zoneService.getZone(e))),this.allSource={name:"All",category:"All"},this.zoneItemSources$=this.zone$.pipe(Object(r.a)(e=>!!e),Object(b.a)(e=>e.itemSources.length>1?[this.allSource,...e.itemSources]:[...e.itemSources])),this._chosenSource$=new s.a(this.allSource),this.chosenSource$=Object(a.a)([this.zoneItemSources$,this.route.queryParams]).pipe(Object(l.a)(([e,t])=>{if(t.boss){let n=e.find(e=>e.name===t.boss);n||"Zone Drop"!==t.boss||(n=e.find(e=>"Zone Drop"===e.category)),n||(n=this.allSource),this._chosenSource$.next(n)}}),Object(u.a)(()=>this._chosenSource$.asObservable()))}ngOnInit(){}sourceChosen(e){this._chosenSource$.next(e),this.router.navigate([],{relativeTo:this.route,queryParams:{boss:e.name||e.category},queryParamsHandling:"merge"})}getSourceLoot(e){return this.zone$.pipe(Object(b.a)(t=>this.itemService.getBySource(t,e)))}getNextRecipient(e){return this.lootListFacade.getRankedLootGroups(e.name).pipe(Object(d.a)(),Object(b.a)(e=>e.length?e[0]:null),Object(r.a)(e=>null!==e),Object(b.a)(e=>e.rankings.length?e.rankings:null))}noneListed(e){return e&&e.every(e=>!e.onList)}}return e.\u0275fac=function(t){return new(t||e)(f.Ib(o.b),f.Ib(o.a),f.Ib(g.a),f.Ib(p.a),f.Ib(h.a))},e.\u0275cmp=f.Cb({type:e,selectors:[["app-zone-page"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["notFound",""],[1,"hero","is-small","is-black"],[1,"hero-body"],[1,"container"],[1,"title"],["title","Open Wowhead","target","_blank",3,"href","appWowheadTooltip"],[3,"icon"],[1,"section"],["class","box",4,"ngIf"],[1,"columns"],[1,"column"],[1,"box"],[3,"zone","source"],["class","tags",4,"ngIf"],[1,"tags"],["class","tag is-black is-medium",3,"is-primary","click",4,"ngFor","ngForOf"],[1,"tag","is-black","is-medium",3,"click"],["class","media",4,"ngFor","ngForOf"],[1,"media"],[1,"media-content"],[1,"content"],[3,"appWowheadTooltip","routerLink"],["noRankings",""],["class","is-size-6 has-text-warning",4,"ngIf"],[1,"tags","pt-1"],["class","tag is-black",4,"ngFor","ngForOf"],[1,"is-size-6","has-text-warning"],["title","All of these raiders did not list the item, but are still eligible."],[1,"tag","is-black"],[3,"routerLink"]],template:function(e,t){if(1&e&&(f.rc(0,Z,19,14,"div",0),f.Yb(1,"async"),f.rc(2,j,2,0,"ng-template",null,1,f.sc)),2&e){const e=f.lc(3);f.dc("ngIf",f.Zb(1,2,t.zone$))("ngIfElse",e)}},directives:[c.l,m.a,O.a,N.a,c.k,o.c],pipes:[c.b],styles:[""],changeDetection:0}),e})()}];let E=(()=>{class e{}return e.\u0275mod=f.Gb({type:e}),e.\u0275inj=f.Fb({factory:function(t){return new(t||e)},imports:[[o.d.forChild(X)],o.d]}),e})();var W=n("nEHF"),Y=n("ZOsW"),A=n("3Pt+");let T=(()=>{class e{}return e.\u0275mod=f.Gb({type:e}),e.\u0275inj=f.Fb({factory:function(t){return new(t||e)},imports:[[c.c,A.f,A.k,O.b,Y.b,E,W.a]]}),e})()}}]);